import{setLastSavedTimeStamp,getCurrentTheme,setCurrentTheme,READY_TO_SORT,NOW,setTechRenderCounter,setTechRenderChange,getRevealedTechArray,setRevealedTechArray,getDebugVisibilityArray,getTechUnlockedArray,getLastScreenOpenRegister,setLastScreenOpenRegister,setCurrentOptionPane,getNotificationsToggle,setCurrentTab,getCurrentTab,setElements,getElements,getGameVisibleActive,getCurrentOptionPane}from"./constantsAndGlobalVars.js";import{getResourceDataObject}from"./resourceDataObject.js";import{getHeaderDescriptions,getOptionDescription,gameIntroHeader,gameIntroText}from"./descriptions.js";import{saveGame,loadGameFromCloud}from"./saveLoadGame.js";import{setSellFuseCreateTextDescriptionClassesBasedOnButtonStates,setGameState,startGame,offlineGains}from"./game.js";import{capitaliseString}from"./utilityFunctions.js";import{drawTab1Content}from"./drawTab1Content.js";import{drawTab2Content}from"./drawTab2Content.js";import{drawTab3Content}from"./drawTab3Content.js";import{drawTab4Content}from"./drawTab4Content.js";import{drawTab5Content}from"./drawTab5Content.js";import{drawTab6Content}from"./drawTab6Content.js";import{drawTab7Content}from"./drawTab7Content.js";import{drawTab8Content}from"./drawTab8Content.js";let notificationContainer;document.addEventListener("DOMContentLoaded",(async()=>{setElements(),setGameState(getGameVisibleActive());let e;populateModal(gameIntroHeader,gameIntroText),getElements().modalContainer.style.display="flex",getElements().overlay.style.display="flex",startGame(),getElements().modalOKButton.addEventListener("click",(()=>{showHideModal(),loadGameFromCloud()})),notificationContainer=getElements().notificationContainer,getElements().newGameMenuButton.addEventListener("click",(async()=>{})),document.querySelectorAll(".collapsible-header").forEach((e=>{e.addEventListener("click",(function(){this.nextElementSibling.classList.toggle("open"),this.classList.toggle("active")}))})),document.querySelectorAll('[class*="tab1"][class*="option1"]').forEach((function(t){t.addEventListener("click",(function(){setLastScreenOpenRegister("tab1","hydrogen"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab1","content"),e=document.querySelector("button.fuse"),setSellFuseCreateTextDescriptionClassesBasedOnButtonStates(e,"fuse")}))})),document.querySelectorAll('[class*="tab1"][class*="option2"]').forEach((function(t){t.addEventListener("click",(function(){setLastScreenOpenRegister("tab1","helium"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab1","content"),e=document.querySelector("button.fuse"),setSellFuseCreateTextDescriptionClassesBasedOnButtonStates(e,"fuse")}))})),document.querySelectorAll('[class*="tab1"][class*="option3"]').forEach((function(t){t.addEventListener("click",(function(){setLastScreenOpenRegister("tab1","carbon"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab1","content"),e=document.querySelector("button.fuse"),setSellFuseCreateTextDescriptionClassesBasedOnButtonStates(e,"fuse")}))})),document.querySelectorAll('[class*="tab1"][class*="option4"]').forEach((function(t){t.addEventListener("click",(function(){setLastScreenOpenRegister("tab1","neon"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab1","content"),e=document.querySelector("button.fuse"),setSellFuseCreateTextDescriptionClassesBasedOnButtonStates(e,"fuse")}))})),document.querySelectorAll('[class*="tab1"][class*="option5"]').forEach((function(t){t.addEventListener("click",(function(){setLastScreenOpenRegister("tab1","oxygen"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab1","content"),e=document.querySelector("button.fuse"),setSellFuseCreateTextDescriptionClassesBasedOnButtonStates(e,"fuse")}))})),document.querySelectorAll('[class*="tab1"][class*="option6"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab1","sodium"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab1","content")}))})),document.querySelectorAll('[class*="tab1"][class*="option7"]').forEach((function(t){t.addEventListener("click",(function(){setLastScreenOpenRegister("tab1","silicon"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab1","content"),e=document.querySelector("button.fuse"),setSellFuseCreateTextDescriptionClassesBasedOnButtonStates(e,"fuse")}))})),document.querySelectorAll('[class*="tab1"][class*="option8"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab1","iron"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab1","content")}))})),document.querySelectorAll('[class*="tab2"][class*="option1"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab2","energy"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab2","content")}))})),document.querySelectorAll('[class*="tab2"][class*="option2"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab2","power plant"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab2","content")}))})),document.querySelectorAll('[class*="tab2"][class*="option3"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab2","solar power plant"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab2","content")}))})),document.querySelectorAll('[class*="tab2"][class*="option4"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab2","advanced power plant"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab2","content")}))})),document.querySelectorAll('[class*="tab3"][class*="option1"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab3","research"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab3","content")}))})),document.querySelectorAll('[class*="tab3"][class*="option2"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab3","tech tree"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab3","content")}))})),document.querySelectorAll('[class*="tab4"][class*="option1"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab4","diesel"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab4","content")}))})),document.querySelectorAll('[class*="tab4"][class*="option2"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab4","glass"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab4","content")}))})),document.querySelectorAll('[class*="tab4"][class*="option3"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab4","steel"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab4","content")}))})),document.querySelectorAll('[class*="tab4"][class*="option4"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab4","concrete"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab4","content")}))})),document.querySelectorAll('[class*="tab4"][class*="option5"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab4","water"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab4","content")}))})),document.querySelectorAll('[class*="tab5"][class*="option1"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab5","star map"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab5","content")}))})),document.querySelectorAll('[class*="tab8"][class*="option1"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab8","visual"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab8","content")}))})),document.querySelectorAll('[class*="tab8"][class*="option2"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab8","saving / loading"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab8","content")}))})),document.querySelectorAll('[class*="tab8"][class*="option3"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab8","option3"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab8","content")}))})),document.querySelectorAll('[class*="tab8"][class*="option4"]').forEach((function(e){e.addEventListener("click",(function(){setLastScreenOpenRegister("tab8","option4"),setCurrentOptionPane(this.textContent),updateContent(this.textContent,"tab8","content")}))}));document.querySelectorAll("#tabsContainer .tab").forEach(((e,t)=>{e.addEventListener("click",(()=>{setCurrentTab(t+1),highlightActiveTab(t),setGameState(getGameVisibleActive());let a=e.textContent;"☰"===a&&(a="Settings"),getLastScreenOpenRegister(`tab${t+1}`)||updateContent(a,`tab${t+1}`,"intro");const n=getLastScreenOpenRegister("tab"+getCurrentTab());n&&setCurrentOptionPane(n)}))})),window.addEventListener("resize",(()=>{if(getCurrentOptionPane()){const e=document.querySelector("#optionContentTab5");e.innerHTML="",generateStarfield(e,100,80)}})),document.addEventListener("visibilitychange",(()=>{document.hidden?setLastSavedTimeStamp((new Date).toISOString()):offlineGains(!0)}))}));export function updateContent(e,t,a){const n=getElements().optionPaneDescriptions;let o,i,s,r,c=parseInt(t.replace("tab",""));if(i=document.getElementById(`headerContentTab${c}`),s=document.getElementById(`optionContentTab${c}`),i.innerText=e,s.innerHTML="","intro"===a)return o=getHeaderDescriptions([e]),r=n[c-1],r.textContent=o,void(r.style.border="1px dashed var(--container-border-color)");switch(o=getHeaderDescriptions([e.toLowerCase()]),t){case"tab1":r=n[0],r.textContent=o,r.style.border="1px dashed var(--container-border-color)",drawTab1Content(e,s);break;case"tab2":r=n[1],r.textContent=o,r.style.border="1px dashed var(--container-border-color)",drawTab2Content(e,s);break;case"tab3":r=n[2],r.textContent=o,r.style.border="1px dashed var(--container-border-color)",drawTab3Content(e,s);break;case"tab4":r=n[3],r.textContent=o,r.style.border="1px dashed var(--container-border-color)",drawTab4Content(e,s);break;case"tab5":r=n[4],r.textContent=o,r.style.border="1px dashed var(--container-border-color)",drawTab5Content(e,s);break;case"tab6":r=n[5],r.textContent=o,r.style.border="1px dashed var(--container-border-color)",drawTab6Content(e,s);break;case"tab7":r=n[6],r.textContent=o,r.style.border="1px dashed var(--container-border-color)",drawTab7Content(e,s);break;case"tab8":r=n[7],r.textContent=o,r.style.border="1px dashed var(--container-border-color)",drawTab8Content(e,s),saveGame();break;default:console.error("Invalid tab:",t)}}export function createOptionRow(e,t,a,n,o,i,s,r,c,l,d,u,p,h,m,b,C,f,g){const A=document.createElement("div");A.classList.add("option-row","d-flex"),A.id=e;const T=document.createElement("div");T.id=e+"Description",T.classList.add("option-row-description","d-flex"),getOptionDescription(e)&&(T.textContent=getOptionDescription(e).content1);const y=document.createElement("div");if(y.classList.add("option-row-main","d-flex"),A.dataset.conditionCheck=d,A.dataset.type=u,A.dataset.autoBuyerTier=m,A.dataset.rowCategory=g,"techUnlock"===d){const e=getResourceDataObject("techs",[u,"appearsAt"])[0],t=getResourceDataObject("techs",[u,"appearsAt"])[1];getResourceDataObject("research",["quantity"])<e&&!getRevealedTechArray().includes(u)?A.classList.add("invisible"):getTechUnlockedArray().includes(t)?getResourceDataObject("research",["quantity"])>=e&&!getRevealedTechArray().includes(u)&&setRevealedTechArray(u):A.classList.add("invisible")}if(b&&"research"!==b[0]){const e=b[0],t=b[1];"tech"===e&&(getTechUnlockedArray().includes(t)||A.classList.add("invisible")),"debug"===e&&getDebugVisibilityArray().includes(t)&&A.classList.add("invisible")}const S=document.createElement("div");S.classList.add("label-container");const x=document.createElement("label");x.innerText="autoBuyer"===u?t+":":a,S.appendChild(x),y.appendChild(S);const k=document.createElement("div");k.classList.add("input-container"),n&&k.appendChild(n),o&&k.appendChild(o),i&&k.appendChild(i),s&&k.appendChild(s),r&&k.appendChild(r),y.appendChild(k);const E=document.createElement("div");E.classList.add("description-container");const L=document.createElement("label");if(L.classList.add("notation"),"building"===g&&L.classList.add("building-purchase"),L.id=generateElementId(a,C,f),L.innerHTML=c,d)if("resource"===g||"building"===g||"science"===g||"tech"===g?L.classList.add("red-disabled-text","resource-cost-sell-check"):"compound"===g&&L.classList.add("red-disabled-text","compound-cost-sell-check"),"techUnlock"===d)L.dataset.conditionCheck=d,L.dataset.argumentCheckQuantity=h,L.dataset.type=u;else{const e=c.includes(",")&&u.includes("storage")?c.split(",").pop().trim().split(" ").pop().toLowerCase():"";L.dataset.conditionCheck=d,L.dataset.resourcePriceObject=l,L.dataset.type=u,L.dataset.resourceToFuseTo=p,L.dataset.argumentCheckQuantity=h,L.dataset.argumentCheckQuantity2=e,L.dataset.autoBuyerTier=m,L.dataset.rowCategory=g}return E.appendChild(L),y.appendChild(E),A.appendChild(T),A.appendChild(y),A}function generateElementId(e,t,a){let n=e.replace(/:$/,"");return n=n.replace(/(^\w|[A-Z]|\s+)(\w*)/g,((e,t,a,n)=>0===n?t.toLowerCase()+a:t.toUpperCase()+a)),null!==t&&(n=t.toLowerCase()+capitaliseString(n)),n+=a?a+"Description":"Description",n=n.replace(/\s+/g,""),n}export function createDropdown(e,t,a,n){const o=document.createElement("div");o.classList.add("select-container");const i=document.createElement("select");return i.id=e,t.forEach((e=>{const t=document.createElement("option");t.value=e.value,t.innerText=e.text,e.value===a&&(t.selected=!0),i.appendChild(t)})),i.addEventListener("change",(e=>{n(e.target.value)})),o.appendChild(i),o}export function createToggleSwitch(e,t,a,n){const o=document.createElement("div");o.classList.add("toggle-container");const i=document.createElement("input");i.type="checkbox",i.id=e,i.checked=t,i.addEventListener("change",(e=>{const t=e.target.checked;a(t)}));const s=document.createElement("label");return s.htmlFor=e,Array.isArray(n)&&n.forEach((e=>{o.classList.add(e)})),o.appendChild(i),o.appendChild(s),o}export function createButton(e,t,a,n,o,i,s,r,c,l,d){const u=document.createElement("button");return u.innerText=e,Array.isArray(t)?t.forEach((e=>{e.startsWith("id_")?u.id=e.slice(3):u.classList.add(e)})):"string"==typeof t&&u.classList.add(t),n&&("sellResource"===n||"fuseResource"===n?(u.dataset.conditionCheck=n,u.dataset.argumentCheckQuantity=r,u.dataset.type=i,u.dataset.resourceToFuseTo=s):"techUnlock"===n?(u.dataset.conditionCheck=n,u.dataset.argumentCheckQuantity=r,u.dataset.type=i):"toggle"===n?(u.dataset.conditionCheck=n,u.dataset.toggleTarget=s):(u.dataset.conditionCheck=n,u.dataset.resourcePriceObject=o,u.dataset.type=i,u.dataset.resourceToFuseTo=s,u.dataset.argumentCheckQuantity=r,u.dataset.autoBuyerTier=l,u.dataset.rowCategory=d)),u.addEventListener("click",a),c&&(u.setAttribute("tabindex","-1"),u.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||e.preventDefault()}))),u}export function createTextElement(e,t,a){const n=document.createElement("div");return n.id=t,n.innerHTML=e,Array.isArray(a)&&n.classList.add(...a),n}export function createTextFieldArea(e,t=[],a=""){const n=document.createElement("textarea");return n.id=e,n.placeholder=a,n.classList.add("text-area-height","text-area-width","text-area-style"),Array.isArray(t)?n.classList.add(...t):"string"==typeof t&&n.classList.add(t),n}export function selectTheme(e){document.body.setAttribute("data-theme",e),setCurrentTheme(e)}let notificationQueue=[],isNotificationActive=!1;export function showNotification(e,t="info",a=3e3){getNotificationsToggle()&&(notificationQueue.push({message:e,type:t,time:a}),isNotificationActive||processNotificationQueue())}function processNotificationQueue(){if(notificationQueue.length>0){isNotificationActive=!0;const{message:e,type:t,time:a}=notificationQueue.shift();sendNotificationIfActive(e,t,a)}else isNotificationActive=!1}function sendNotificationIfActive(e,t,a){const n=document.createElement("div");n.className=`notification notification-${t}`,n.innerText=e;document.querySelectorAll(".notification").forEach(((e,t)=>{e.style.transform=`translateY(-${110*(t+1)}px)`})),notificationContainer.prepend(n),setTimeout((()=>{n.style.opacity="1",n.style.transform="translateY(0)"}),50),setTimeout((()=>{hideNotification(n),processNotificationQueue()}),a)}function hideNotification(e){e.style.opacity="0",e.style.transform="translateY(100px)",setTimeout((()=>{e.remove()}),500)}function highlightActiveTab(e){document.querySelectorAll("#tabsContainer .tab").forEach(((t,a)=>{a===e?t.classList.add("selected"):t.classList.remove("selected")}))}export function disableActivateButton(e,t,a){switch(t){case"active":e.classList.remove("disabled"),e.classList.add(a);break;case"disable":e.classList.remove(a),e.classList.add("disabled")}}export function updateDescriptionRow(e,t){const a=getOptionDescription(e);if(a&&t in a&&"content1"in a){const e=a.content1;a.content1=a[t],a[t]=e}else console.error(`Invalid row key or property: ${e}, ${t}`)}export function showTabsUponUnlock(e){const t=document.querySelectorAll(".tab"),a=getTechUnlockedArray();t.forEach((e=>{const t=e.getAttribute("data-tab"),n=e.getAttribute("data-name");a.includes(t)&&(e.classList.remove("tab-not-yet"),e.textContent=n)}))}export function generateStarfield(e,t=70,a=1){const n=e.getBoundingClientRect(),o=n.width,i=n.height,s=n.left,r=n.top,c=["Absolutno","Acamar","Achernar","Achird","Acrab","Acrux","Acubens","Adhafera","Adhara","Adhil","Ain","Ainalrami","Aiolos","Aladfar","Alasia","Alathfar†","Albaldah","Albali","Albireo","Alchiba","Alcor","Alcyone","Aldebaran","Alderamin","Aldhanab","Aldhibah","Aldulfin","Alfirk","Algedi","Algenib","Algieba","Algol","Algorab","Alhena","Alioth","Aljanah","Alkaid","Alkalurops","Alkaphrah","Alkarab","Alkes","Almaaz","Almach","Alnair","Alnasl","Alnilam","Alnitak","Alniyat","Alphard","Alphecca","Alpheratz","Alpherg","Alrakis","Alrescha","Alruba","Alsafi","Alsciaukat","Alsephina","Alshain","Alshat","Altair","Altais","Alterf","Aludra","Alula Australis","Alula Borealis","Alya","Alzirr","Amadioha","Amansinaya","Anadolu","Añañuca","Ancha","Angetenar","Aniara","Ankaa","Anser","Antares","Arcalís","Arcturus","Arkab Posterior","Arkab Prior","Arneb","Ascella","Asellus Australis","Asellus Borealis","Ashlesha","Asellus Primus†","Asellus Secundus†","Asellus Tertius†","Aspidiske","Asterope","Atakoraka","Athebyne","Atik","Atlas","Atria","Avior","Axólotl","Ayeyarwady","Azelfafage","Azha","Azmidi","Baekdu","Barnard's Star","Baten Kaitos","Batsũ̀","Beemim","Beid","Belel","Bélénos","Bellatrix","Berehynia","Betelgeuse","Bharani","Bibhā","Biham","Bosona","Botein","Brachium","Bubup","Buna","Bunda","Canopus","Capella","Caph","Castor","Castula","Cebalrai","Ceibo","Celaeno","Cervantes","Chalawan","Chamukuy","Chaophraya","Chara","Chasoň","Chechia","Chertan","Citadelle","Citalá","Cocibolca","Copernicus","Cor Caroli","Cujam","Cursa","Dabih","Dalim","Danfeng","Deneb","Deneb Algedi","Denebola","Diadem","Dilmun","Dingolay","Diphda","Dìwö","Diya","Dofida","Dombay","Dschubba","Dubhe","Dziban","Ebla","Edasich","Electra","Elgafar","Elkurud","Elnath","Eltanin","Emiw","Enif","Errai","Fafnir","Fang","Fawaris","Felis","Felixvarela","Filetdor","Flegetonte","Fomalhaut","Formosa","Franz","Fulu","Fumalsamakah","Funi","Furud","Fuyue","Gacrux","Gakyid","Gar","Garnet Star†","Geminga","Giausar","Gienah","Ginan","Gloas","Gnomon","Gomeisa","Graffias†","Guahayona","Grumium","Gudja","Gumala","Guniibuu","Hadar","Haedus","Hamal","Hassaleh","Hatysa","Helvetios","Heze","Hoggar","Homam","Horna","Hunahpú","Hunor","Iklil","Illyrian","Imai","Inquill","Intan","Intercrus","Irena","Itonda","Izar","Jabbah","Jishui","Kaffaljidhma","Kaewkosin","Kalausi","Kamuy","Kang","Karaka","Kaus Australis","Kaus Borealis","Kaus Media","Kaveh","Keid","Khambalia","Kitalpha","Kochab","Koeia","Koit","Komondor","Kornephoros","Kosjenka","Kraz","Kuma†","Kurhah","La Superba","Larawag","Lerna","Lesath","Libertas","Lich","Liesma","Lilii Borea","Lionrock","Lucilinburhuc","Lusitânia","Maasym","Macondo","Mago","Mahasim","Mahsati","Maia","Malmok","Marfik","Markab","Markeb","Márohu","Marsic","Matar","Matza","Maru","Mazaalai","Mebsuta","Megrez","Meissa","Mekbuda","Meleph","Menkalinan","Menkar","Menkent","Menkib","Merak","Merga","Meridiana","Merope","Mesarthim","Miaplacidus","Mimosa","Minchir","Minelauva","Mintaka","Mira","Mirach","Miram","Mirfak","Mirzam","Misam","Mizar","Moldoveanu","Mönch","Montuno","Morava","Moriah","Mothallah","Mouhoun","Mpingo","Muliphein","Muphrid","Muscida","Musica","Muspelheim","Nahn","Naledi","Naos","Nashira","Násti","Natasha","Navi†","Nekkar","Nembus","Nenque","Nervia","Nihal","Nikawiy","Noquisi","Nosaxa","Nunki","Nusakan","Nushagak","Nyamien","Ogma","Okab","Orkaria","Paikauhale","Parumleo","Peacock","Petra","Phact","Phecda","Pherkad","Phoenicia","Piautos","Pincoya","Pipirima","Pipoltr","Pleione","Poerava","Polaris","Polaris Australis","Polis","Pollux","Porrima","Praecipua","Prima Hyadum","Procyon","Propus","Proxima Centauri","Ran","Rana","Rapeto","Rasalas","Rasalgethi","Rasalhague","Rastaban","Regor†","Regulus","Revati","Rigel","Rigil Kentaurus","Rosalíadecastro","Rotanev","Ruchbah","Rukbat","Sabik","Saclateni","Sadachbia","Sadalbari","Sadalmelik","Sadalsuud","Sadr","Sagarmatha","Saiph","Salm","Sāmaya","Sansuna","Sargas","Sarin","Sceptrum","Scheat","Schedar","Secunda Hyadum","Segin","Seginus","Sham","Shama","Sharjah","Shaula","Sheliak","Sheratan","Sika","Sirius","Situla","Skat","Solaris","Spica","Sterrennacht","Stribor","Sualocin","Subra","Suhail","Sulafat","Syrma","Tabit","Taika","Taiyangshou","Taiyi","Talitha","Tangra","Tania Australis","Tania Borealis","Tapecue","Tarazed","Tarf","Taygeta","Tegmine","Tejat","Terebellum","Tevel","Thabit†","Theemin","Thuban","Tiaki","Tianguan","Tianyi","Timir","Tislit","Titawin","Tojil","Toliman","Tonatiuh","Torcular","Tuiren","Tupã","Tupi","Tureis","Ukdah","Uklun","Unukalhai","Unurgunite","Uruk","Uúba","Vega","Veritate","Vindemiatrix","Wasat","Wattle","Wazn","Wezen","Wouri","Wurren","Xamidimura","Xihe","Xuange","Yed Posterior","Yed Prior","Yildun","Zaniah","Zaurak","Zembra","Zhang","Zibal","Zosma","Zubenelgenubi","Zubenelhakrabi","Zubeneschamali"],l=new Set;for(let n=0;n<t;n++){const p=document.createElement("div"),h=d(a+n,2,6),m=d(a+n+t,0,o)+s,b=d(a+n+2*t,0,i)+r;let C;if(h>5.6){if(p.classList.add("star"),c.length>0){const e=Math.floor(u(a-1.2*n)*c.length);C=c[e],c.splice(e,1),l.add(C)}else C=`Star${n}`;p.id=C,p.style.width=1.6*h+"px",p.style.height=1.6*h+"px",p.style.left=`${m}px`,p.style.top=`${b}px`,p.title=C}else p.id=`noneInterestingStar${n}`,p.style.width=`${h}px`,p.style.height=`${h}px`,p.style.left=`${m}px`,p.style.top=`${b}px`,p.classList.add("star-uninteresting"),p.title="";e.appendChild(p)}function d(e,t,a){return u(e)*(a-t)+t}function u(e){let t=9390*Math.sin(e++);return t-Math.floor(t)}}export function sortTechRows(e){setTechRenderCounter(e?READY_TO_SORT+NOW:READY_TO_SORT),setTechRenderChange(!0)}function showHideModal(){"flex"===getElements().modalContainer.style.display?(getElements().modalContainer.style.display="none",getElements().overlay.style.display="none"):(getElements().modalContainer.style.display="flex",getElements().overlay.style.display="flex")}function populateModal(e,t){getElements().modalHeader.textContent=e;getElements().modalContent.innerHTML=t}export function getTimeInStatCell(){const e=new Date,t=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),n=Intl.DateTimeFormat("en-US",{timeZoneName:"short"}).formatToParts(e).find((e=>"timeZoneName"===e.type)).value,o=`${t}:${a} ${{GMT:"GMT","GMT+1":"CET","GMT+2":"EET","GMT+3":"MSK","GMT+4":"GST","GMT+5":"PKT","GMT+5:30":"IST","GMT+6":"BST","GMT+7":"ICT","GMT+8":"CST","GMT+9":"JST","GMT+10":"AEST","GMT+11":"SBT","GMT+12":"NZST","GMT-1":"AZOT","GMT-2":"GST","GMT-3":"BRT","GMT-4":"AST","GMT-5":"EST","GMT-6":"CST","GMT-7":"MST","GMT-8":"PST","GMT-9":"AKST","GMT-10":"HST","GMT-11":"NUT","GMT-12":"AoE"}[n]||n}`,i=document.getElementById("stat8");i&&(i.textContent=o)}